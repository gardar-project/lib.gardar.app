var e="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t=[],n=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,s=!1;function i(){s=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,i=e.length;r<i;++r)t[r]=e[r],n[e.charCodeAt(r)]=r;n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63}function o(e,n,r){for(var s,i,o=[],a=n;a<r;a+=3)s=(e[a]<<16)+(e[a+1]<<8)+e[a+2],o.push(t[(i=s)>>18&63]+t[i>>12&63]+t[i>>6&63]+t[63&i]);return o.join("")}function a(e){var n;s||i();for(var r=e.length,a=r%3,l="",u=[],f=16383,c=0,h=r-a;c<h;c+=f)u.push(o(e,c,c+f>h?h:c+f));return 1===a?(n=e[r-1],l+=t[n>>2],l+=t[n<<4&63],l+="=="):2===a&&(n=(e[r-2]<<8)+e[r-1],l+=t[n>>10],l+=t[n>>4&63],l+=t[n<<2&63],l+="="),u.push(l),u.join("")}function l(e,t,n,r,s){var i,o,a=8*s-r-1,l=(1<<a)-1,u=l>>1,f=-7,c=n?s-1:0,h=n?-1:1,p=e[t+c];for(c+=h,i=p&(1<<-f)-1,p>>=-f,f+=a;f>0;i=256*i+e[t+c],c+=h,f-=8);for(o=i&(1<<-f)-1,i>>=-f,f+=r;f>0;o=256*o+e[t+c],c+=h,f-=8);if(0===i)i=1-u;else{if(i===l)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,r),i-=u}return(p?-1:1)*o*Math.pow(2,i-r)}function u(e,t,n,r,s,i){var o,a,l,u=8*i-s-1,f=(1<<u)-1,c=f>>1,h=23===s?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,d=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=f):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+c>=1?h/l:h*Math.pow(2,1-c))*l>=2&&(o++,l/=2),o+c>=f?(a=0,o=f):o+c>=1?(a=(t*l-1)*Math.pow(2,s),o+=c):(a=t*Math.pow(2,c-1)*Math.pow(2,s),o=0));s>=8;e[n+p]=255&a,p+=d,a/=256,s-=8);for(o=o<<s|a,u+=s;u>0;e[n+p]=255&o,p+=d,o/=256,u-=8);e[n+p-d]|=128*g}var f={}.toString,c=Array.isArray||function(e){return"[object Array]"==f.call(e)};function h(){return d.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function p(e,t){if(h()<t)throw new RangeError("Invalid typed array length");return d.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=d.prototype:(null===e&&(e=new d(t)),e.length=t),e}function d(e,t,n){if(!(d.TYPED_ARRAY_SUPPORT||this instanceof d))return new d(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return y(this,e)}return g(this,e,t,n)}function g(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);d.TYPED_ARRAY_SUPPORT?(e=t).__proto__=d.prototype:e=w(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!d.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|E(t,n),s=(e=p(e,r)).write(t,n);s!==r&&(e=e.slice(0,s));return e}(e,t,n):function(e,t){if(v(t)){var n=0|b(t.length);return 0===(e=p(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?p(e,0):w(e,t);if("Buffer"===t.type&&c(t.data))return w(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function m(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function y(e,t){if(m(t),e=p(e,t<0?0:0|b(t)),!d.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function w(e,t){var n=t.length<0?0:0|b(t.length);e=p(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function b(e){if(e>=h())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h().toString(16)+" bytes");return 0|e}function v(e){return!(null==e||!e._isBuffer)}function E(e,t){if(v(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return J(e).length;default:if(r)return G(e).length;t=(""+t).toLowerCase(),r=!0}}function _(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return D(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return O(this,t,n);case"latin1":case"binary":return j(this,t,n);case"base64":return I(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function x(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function k(e,t,n,r,s){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=s?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(s)return-1;n=e.length-1}else if(n<0){if(!s)return-1;n=0}if("string"==typeof t&&(t=d.from(t,r)),v(t))return 0===t.length?-1:T(e,t,n,r,s);if("number"==typeof t)return t&=255,d.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?s?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):T(e,[t],n,r,s);throw new TypeError("val must be string, number or Buffer")}function T(e,t,n,r,s){var i,o=1,a=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,a/=2,l/=2,n/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(s){var f=-1;for(i=n;i<a;i++)if(u(e,i)===u(t,-1===f?0:i-f)){if(-1===f&&(f=i),i-f+1===l)return f*o}else-1!==f&&(i-=i-f),f=-1}else for(n+l>a&&(n=a-l),i=n;i>=0;i--){for(var c=!0,h=0;h<l;h++)if(u(e,i+h)!==u(t,h)){c=!1;break}if(c)return i}return-1}function A(e,t,n,r){n=Number(n)||0;var s=e.length-n;r?(r=Number(r))>s&&(r=s):r=s;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var o=0;o<r;++o){var a=parseInt(t.substr(2*o,2),16);if(isNaN(a))return o;e[n+o]=a}return o}function R(e,t,n,r){return H(G(t,e.length-n),e,n,r)}function P(e,t,n,r){return H(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function S(e,t,n,r){return P(e,t,n,r)}function U(e,t,n,r){return H(J(t),e,n,r)}function $(e,t,n,r){return H(function(e,t){for(var n,r,s,i=[],o=0;o<e.length&&!((t-=2)<0);++o)r=(n=e.charCodeAt(o))>>8,s=n%256,i.push(s),i.push(r);return i}(t,e.length-n),e,n,r)}function I(e,t,n){return 0===t&&n===e.length?a(e):a(e.slice(t,n))}function C(e,t,n){n=Math.min(e.length,n);for(var r=[],s=t;s<n;){var i,o,a,l,u=e[s],f=null,c=u>239?4:u>223?3:u>191?2:1;if(s+c<=n)switch(c){case 1:u<128&&(f=u);break;case 2:128==(192&(i=e[s+1]))&&(l=(31&u)<<6|63&i)>127&&(f=l);break;case 3:i=e[s+1],o=e[s+2],128==(192&i)&&128==(192&o)&&(l=(15&u)<<12|(63&i)<<6|63&o)>2047&&(l<55296||l>57343)&&(f=l);break;case 4:i=e[s+1],o=e[s+2],a=e[s+3],128==(192&i)&&128==(192&o)&&128==(192&a)&&(l=(15&u)<<18|(63&i)<<12|(63&o)<<6|63&a)>65535&&l<1114112&&(f=l)}null===f?(f=65533,c=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),s+=c}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}d.TYPED_ARRAY_SUPPORT=void 0===e.TYPED_ARRAY_SUPPORT||e.TYPED_ARRAY_SUPPORT,h(),d.poolSize=8192,d._augment=function(e){return e.__proto__=d.prototype,e},d.from=function(e,t,n){return g(null,e,t,n)},d.TYPED_ARRAY_SUPPORT&&(d.prototype.__proto__=Uint8Array.prototype,d.__proto__=Uint8Array),d.alloc=function(e,t,n){return function(e,t,n,r){return m(t),t<=0?p(e,t):void 0!==n?"string"==typeof r?p(e,t).fill(n,r):p(e,t).fill(n):p(e,t)}(null,e,t,n)},d.allocUnsafe=function(e){return y(null,e)},d.allocUnsafeSlow=function(e){return y(null,e)},d.isBuffer=function(e){return null!=e&&(!!e._isBuffer||X(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&X(e.slice(0,0))}(e))},d.compare=function(e,t){if(!v(e)||!v(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,s=0,i=Math.min(n,r);s<i;++s)if(e[s]!==t[s]){n=e[s],r=t[s];break}return n<r?-1:r<n?1:0},d.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(e,t){if(!c(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return d.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=d.allocUnsafe(t),s=0;for(n=0;n<e.length;++n){var i=e[n];if(!v(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,s),s+=i.length}return r},d.byteLength=E,d.prototype._isBuffer=!0,d.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)x(this,t,t+1);return this},d.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)x(this,t,t+3),x(this,t+1,t+2);return this},d.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)x(this,t,t+7),x(this,t+1,t+6),x(this,t+2,t+5),x(this,t+3,t+4);return this},d.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?C(this,0,e):_.apply(this,arguments)},d.prototype.equals=function(e){if(!v(e))throw new TypeError("Argument must be a Buffer");return this===e||0===d.compare(this,e)},d.prototype.inspect=function(){var e="";return this.length>0&&(e=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(e+=" ... ")),"<Buffer "+e+">"},d.prototype.compare=function(e,t,n,r,s){if(!v(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===s&&(s=this.length),t<0||n>e.length||r<0||s>this.length)throw new RangeError("out of range index");if(r>=s&&t>=n)return 0;if(r>=s)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(s>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0),a=Math.min(i,o),l=this.slice(r,s),u=e.slice(t,n),f=0;f<a;++f)if(l[f]!==u[f]){i=l[f],o=u[f];break}return i<o?-1:o<i?1:0},d.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},d.prototype.indexOf=function(e,t,n){return k(this,e,t,n,!0)},d.prototype.lastIndexOf=function(e,t,n){return k(this,e,t,n,!1)},d.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var s=this.length-t;if((void 0===n||n>s)&&(n=s),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return A(this,e,t,n);case"utf8":case"utf-8":return R(this,e,t,n);case"ascii":return P(this,e,t,n);case"latin1":case"binary":return S(this,e,t,n);case"base64":return U(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function O(e,t,n){var r="";n=Math.min(e.length,n);for(var s=t;s<n;++s)r+=String.fromCharCode(127&e[s]);return r}function j(e,t,n){var r="";n=Math.min(e.length,n);for(var s=t;s<n;++s)r+=String.fromCharCode(e[s]);return r}function D(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var s="",i=t;i<n;++i)s+=q(e[i]);return s}function M(e,t,n){for(var r=e.slice(t,n),s="",i=0;i<r.length;i+=2)s+=String.fromCharCode(r[i]+256*r[i+1]);return s}function N(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function B(e,t,n,r,s,i){if(!v(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>s||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function L(e,t,n,r){t<0&&(t=65535+t+1);for(var s=0,i=Math.min(e.length-n,2);s<i;++s)e[n+s]=(t&255<<8*(r?s:1-s))>>>8*(r?s:1-s)}function Y(e,t,n,r){t<0&&(t=4294967295+t+1);for(var s=0,i=Math.min(e.length-n,4);s<i;++s)e[n+s]=t>>>8*(r?s:3-s)&255}function F(e,t,n,r,s,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function V(e,t,n,r,s){return s||F(e,0,n,4),u(e,t,n,r,23,4),n+4}function W(e,t,n,r,s){return s||F(e,0,n,8),u(e,t,n,r,52,8),n+8}d.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),d.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=d.prototype;else{var s=t-e;n=new d(s,void 0);for(var i=0;i<s;++i)n[i]=this[i+e]}return n},d.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e],s=1,i=0;++i<t&&(s*=256);)r+=this[e+i]*s;return r},d.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e+--t],s=1;t>0&&(s*=256);)r+=this[e+--t]*s;return r},d.prototype.readUInt8=function(e,t){return t||N(e,1,this.length),this[e]},d.prototype.readUInt16LE=function(e,t){return t||N(e,2,this.length),this[e]|this[e+1]<<8},d.prototype.readUInt16BE=function(e,t){return t||N(e,2,this.length),this[e]<<8|this[e+1]},d.prototype.readUInt32LE=function(e,t){return t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},d.prototype.readUInt32BE=function(e,t){return t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},d.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e],s=1,i=0;++i<t&&(s*=256);)r+=this[e+i]*s;return r>=(s*=128)&&(r-=Math.pow(2,8*t)),r},d.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=t,s=1,i=this[e+--r];r>0&&(s*=256);)i+=this[e+--r]*s;return i>=(s*=128)&&(i-=Math.pow(2,8*t)),i},d.prototype.readInt8=function(e,t){return t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},d.prototype.readInt16LE=function(e,t){t||N(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},d.prototype.readInt16BE=function(e,t){t||N(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},d.prototype.readInt32LE=function(e,t){return t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},d.prototype.readInt32BE=function(e,t){return t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},d.prototype.readFloatLE=function(e,t){return t||N(e,4,this.length),l(this,e,!0,23,4)},d.prototype.readFloatBE=function(e,t){return t||N(e,4,this.length),l(this,e,!1,23,4)},d.prototype.readDoubleLE=function(e,t){return t||N(e,8,this.length),l(this,e,!0,52,8)},d.prototype.readDoubleBE=function(e,t){return t||N(e,8,this.length),l(this,e,!1,52,8)},d.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||B(this,e,t,n,Math.pow(2,8*n)-1,0);var s=1,i=0;for(this[t]=255&e;++i<n&&(s*=256);)this[t+i]=e/s&255;return t+n},d.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||B(this,e,t,n,Math.pow(2,8*n)-1,0);var s=n-1,i=1;for(this[t+s]=255&e;--s>=0&&(i*=256);)this[t+s]=e/i&255;return t+n},d.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,1,255,0),d.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},d.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},d.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},d.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):Y(this,e,t,!0),t+4},d.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):Y(this,e,t,!1),t+4},d.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var s=Math.pow(2,8*n-1);B(this,e,t,n,s-1,-s)}var i=0,o=1,a=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+n},d.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var s=Math.pow(2,8*n-1);B(this,e,t,n,s-1,-s)}var i=n-1,o=1,a=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+n},d.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,1,127,-128),d.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},d.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},d.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},d.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,4,2147483647,-2147483648),d.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):Y(this,e,t,!0),t+4},d.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):Y(this,e,t,!1),t+4},d.prototype.writeFloatLE=function(e,t,n){return V(this,e,t,!0,n)},d.prototype.writeFloatBE=function(e,t,n){return V(this,e,t,!1,n)},d.prototype.writeDoubleLE=function(e,t,n){return W(this,e,t,!0,n)},d.prototype.writeDoubleBE=function(e,t,n){return W(this,e,t,!1,n)},d.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var s,i=r-n;if(this===e&&n<t&&t<r)for(s=i-1;s>=0;--s)e[s+t]=this[s+n];else if(i<1e3||!d.TYPED_ARRAY_SUPPORT)for(s=0;s<i;++s)e[s+t]=this[s+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},d.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var s=e.charCodeAt(0);s<256&&(e=s)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!d.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var o=v(e)?e:G(new d(e,r).toString()),a=o.length;for(i=0;i<n-t;++i)this[i+t]=o[i%a]}return this};var z=/[^+\/0-9A-Za-z-_]/g;function q(e){return e<16?"0"+e.toString(16):e.toString(16)}function G(e,t){var n;t=t||1/0;for(var r=e.length,s=null,i=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!s){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&i.push(239,191,189);continue}s=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),s=n;continue}n=65536+(s-55296<<10|n-56320)}else s&&(t-=3)>-1&&i.push(239,191,189);if(s=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function J(e){return function(e){var t,o,a,l,u,f;s||i();var c=e.length;if(c%4>0)throw new Error("Invalid string. Length must be a multiple of 4");u="="===e[c-2]?2:"="===e[c-1]?1:0,f=new r(3*c/4-u),a=u>0?c-4:c;var h=0;for(t=0,o=0;t<a;t+=4,o+=3)l=n[e.charCodeAt(t)]<<18|n[e.charCodeAt(t+1)]<<12|n[e.charCodeAt(t+2)]<<6|n[e.charCodeAt(t+3)],f[h++]=l>>16&255,f[h++]=l>>8&255,f[h++]=255&l;return 2===u?(l=n[e.charCodeAt(t)]<<2|n[e.charCodeAt(t+1)]>>4,f[h++]=255&l):1===u&&(l=n[e.charCodeAt(t)]<<10|n[e.charCodeAt(t+1)]<<4|n[e.charCodeAt(t+2)]>>2,f[h++]=l>>8&255,f[h++]=255&l),f}(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(z,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,n,r){for(var s=0;s<r&&!(s+n>=t.length||s>=e.length);++s)t[s+n]=e[s];return s}function X(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}var Q=Object.defineProperty,Z={};function K(e){let t=e=>{if(null===e)n.write8(0);else if("boolean"==typeof e)n.write8(1),n.write8(+e);else if("number"==typeof e)n.write8(2),n.write32(0|e);else if("string"==typeof e)n.write8(3),n.write(ee(e));else if(e instanceof Uint8Array)n.write8(4),n.write(e);else if(e instanceof Array){n.write8(5),n.write32(e.length);for(let n of e)t(n)}else{let r=Object.keys(e);n.write8(6),n.write32(r.length);for(let s of r)n.write(ee(s)),t(e[s])}},n=new re;return n.write32(0),n.write32(e.id<<1|+!e.isRequest),t(e.value),ie(n.buf,n.len-4,0),n.buf.subarray(0,n.len)}((e,t)=>{for(var n in t)Q(e,n,{get:t[n],enumerable:!0})})(Z,{analyzeMetafile:()=>He,analyzeMetafileSync:()=>Ke,build:()=>ze,buildSync:()=>Xe,context:()=>qe,default:()=>rt,formatMessages:()=>Je,formatMessagesSync:()=>Ze,initialize:()=>tt,transform:()=>Ge,transformSync:()=>Qe,version:()=>We});var ee,te,ne,re=class{constructor(e=new Uint8Array(1024)){this.buf=e,this.len=0,this.ptr=0}_write(e){if(this.len+e>this.buf.length){let t=new Uint8Array(2*(this.len+e));t.set(this.buf),this.buf=t}return this.len+=e,this.len-e}write8(e){let t=this._write(1);this.buf[t]=e}write32(e){let t=this._write(4);ie(this.buf,e,t)}write(e){let t=this._write(4+e.length);ie(this.buf,e.length,t),this.buf.set(e,t+4)}_read(e){if(this.ptr+e>this.buf.length)throw new Error("Invalid packet");return this.ptr+=e,this.ptr-e}read8(){return this.buf[this._read(1)]}read32(){return se(this.buf,this._read(4))}read(){let e=this.read32(),t=new Uint8Array(e),n=this._read(t.length);return t.set(this.buf.subarray(n,n+e)),t}};if("undefined"!=typeof TextEncoder&&"undefined"!=typeof TextDecoder){let e=new TextEncoder,t=new TextDecoder;ee=t=>e.encode(t),te=e=>t.decode(e),ne='new TextEncoder().encode("")'}else ee=e=>d.from(e),te=e=>{let{buffer:t,byteOffset:n,byteLength:r}=e;return d.from(t,n,r).toString()},ne='Buffer.from("")';if(!(ee("")instanceof Uint8Array))throw new Error(`Invariant violation: "${ne} instanceof Uint8Array" is incorrectly false\n\nThis indicates that your JavaScript environment is broken. You cannot use\nesbuild in this environment because esbuild relies on this invariant. This\nis not a problem with esbuild. You need to fix your environment instead.\n`);function se(e,t){return e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24}function ie(e,t,n){e[n++]=t,e[n++]=t>>8,e[n++]=t>>16,e[n++]=t>>24}var oe=JSON.stringify;function ae(e){if(Pe(e,"target"),e.indexOf(",")>=0)throw new Error(`Invalid target: ${e}`);return e}var le=()=>null,ue=e=>"boolean"==typeof e?null:"a boolean",fe=e=>"string"==typeof e?null:"a string",ce=e=>e instanceof RegExp?null:"a RegExp object",he=e=>"number"==typeof e&&e===(0|e)?null:"an integer",pe=e=>"function"==typeof e?null:"a function",de=e=>Array.isArray(e)?null:"an array",ge=e=>"object"!=typeof e||null===e||Array.isArray(e)?"an object":null,me=e=>"object"==typeof e&&null!==e?null:"an array or an object",ye=e=>e instanceof WebAssembly.Module?null:"a WebAssembly.Module",we=e=>"object"!=typeof e||Array.isArray(e)?"an object or null":null,be=e=>"string"==typeof e||"boolean"==typeof e?null:"a string or a boolean",ve=e=>"string"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)?null:"a string or an object",Ee=e=>"string"==typeof e||Array.isArray(e)?null:"a string or an array",_e=e=>"string"==typeof e||e instanceof Uint8Array?null:"a string or a Uint8Array",xe=e=>"string"==typeof e||e instanceof URL?null:"a string or a URL";function ke(e,t,n,r){let s=e[n];if(t[n+""]=!0,void 0===s)return;let i=r(s);if(null!==i)throw new Error(`${oe(n)} must be ${i}`);return s}function Te(e,t,n){for(let r in e)if(!(r in t))throw new Error(`Invalid option ${n}: ${oe(r)}`)}function Ae(e){let t;if(void 0!==e){t=Object.create(null);for(let n in e){let r=e[n];if("string"!=typeof r&&!1!==r)throw new Error(`Expected ${oe(n)} in mangle cache to map to either a string or false`);t[n]=r}}return t}function Re(e,t,n,r,s){let i=ke(t,n,"color",ue),o=ke(t,n,"logLevel",fe),a=ke(t,n,"logLimit",he);void 0!==i?e.push(`--color=${i}`):r&&e.push("--color=true"),e.push(`--log-level=${o||s}`),e.push(`--log-limit=${a||0}`)}function Pe(e,t,n){if("string"!=typeof e)throw new Error(`Expected value for ${t}${void 0!==n?" "+oe(n):""} to be a string, got ${typeof e} instead`);return e}function Se(e,t,n){let r=ke(t,n,"legalComments",fe),s=ke(t,n,"sourceRoot",fe),i=ke(t,n,"sourcesContent",ue),o=ke(t,n,"target",Ee),a=ke(t,n,"format",fe),l=ke(t,n,"globalName",fe),u=ke(t,n,"mangleProps",ce),f=ke(t,n,"reserveProps",ce),c=ke(t,n,"mangleQuoted",ue),h=ke(t,n,"minify",ue),p=ke(t,n,"minifySyntax",ue),d=ke(t,n,"minifyWhitespace",ue),g=ke(t,n,"minifyIdentifiers",ue),m=ke(t,n,"drop",de),y=ke(t,n,"charset",fe),w=ke(t,n,"treeShaking",ue),b=ke(t,n,"ignoreAnnotations",ue),v=ke(t,n,"jsx",fe),E=ke(t,n,"jsxFactory",fe),_=ke(t,n,"jsxFragment",fe),x=ke(t,n,"jsxImportSource",fe),k=ke(t,n,"jsxDev",ue),T=ke(t,n,"jsxSideEffects",ue),A=ke(t,n,"define",ge),R=ke(t,n,"logOverride",ge),P=ke(t,n,"supported",ge),S=ke(t,n,"pure",de),U=ke(t,n,"keepNames",ue),$=ke(t,n,"platform",fe);if(r&&e.push(`--legal-comments=${r}`),void 0!==s&&e.push(`--source-root=${s}`),void 0!==i&&e.push(`--sources-content=${i}`),o&&(Array.isArray(o)?e.push(`--target=${Array.from(o).map(ae).join(",")}`):e.push(`--target=${ae(o)}`)),a&&e.push(`--format=${a}`),l&&e.push(`--global-name=${l}`),$&&e.push(`--platform=${$}`),h&&e.push("--minify"),p&&e.push("--minify-syntax"),d&&e.push("--minify-whitespace"),g&&e.push("--minify-identifiers"),y&&e.push(`--charset=${y}`),void 0!==w&&e.push(`--tree-shaking=${w}`),b&&e.push("--ignore-annotations"),m)for(let t of m)e.push(`--drop:${Pe(t,"drop")}`);if(u&&e.push(`--mangle-props=${u.source}`),f&&e.push(`--reserve-props=${f.source}`),void 0!==c&&e.push(`--mangle-quoted=${c}`),v&&e.push(`--jsx=${v}`),E&&e.push(`--jsx-factory=${E}`),_&&e.push(`--jsx-fragment=${_}`),x&&e.push(`--jsx-import-source=${x}`),k&&e.push("--jsx-dev"),T&&e.push("--jsx-side-effects"),A)for(let t in A){if(t.indexOf("=")>=0)throw new Error(`Invalid define: ${t}`);e.push(`--define:${t}=${Pe(A[t],"define",t)}`)}if(R)for(let t in R){if(t.indexOf("=")>=0)throw new Error(`Invalid log override: ${t}`);e.push(`--log-override:${t}=${Pe(R[t],"log override",t)}`)}if(P)for(let t in P){if(t.indexOf("=")>=0)throw new Error(`Invalid supported: ${t}`);const n=P[t];if("boolean"!=typeof n)throw new Error(`Expected value for supported ${oe(t)} to be a boolean, got ${typeof n} instead`);e.push(`--supported:${t}=${n}`)}if(S)for(let t of S)e.push(`--pure:${Pe(t,"pure")}`);U&&e.push("--keep-names")}function Ue(e){const t={},n={didClose:!1,reason:""};let r={},s=0,i=0,o=new Uint8Array(16384),a=0,l=(t,i,o)=>{if(n.didClose)return o("The service is no longer running"+n.reason,null);let a=s++;r[a]=(e,n)=>{try{o(e,n)}finally{t&&t.unref()}},t&&t.ref(),e.writeToStdin(K({id:a,isRequest:!0,value:i}))},u=(t,r)=>{if(n.didClose)throw new Error("The service is no longer running"+n.reason);e.writeToStdin(K({id:t,isRequest:!1,value:r}))},f=!0,c=n=>{if(f){f=!1;let e=String.fromCharCode(...n);if("0.17.10"!==e)throw new Error(`Cannot start service: Host version "0.17.10" does not match binary version ${oe(e)}`);return}let s=function(e){let t=()=>{switch(n.read8()){case 0:return null;case 1:return!!n.read8();case 2:return n.read32();case 3:return te(n.read());case 4:return n.read();case 5:{let e=n.read32(),r=[];for(let n=0;n<e;n++)r.push(t());return r}case 6:{let e=n.read32(),r={};for(let s=0;s<e;s++)r[te(n.read())]=t();return r}default:throw new Error("Invalid packet")}},n=new re(e),r=n.read32(),s=0==(1&r);r>>>=1;let i=t();if(n.ptr!==e.length)throw new Error("Invalid packet");return{id:r,isRequest:s,value:i}}(n);if(s.isRequest)(async(n,r)=>{try{if("ping"===r.command)return void u(n,{});if("number"==typeof r.key){const e=t[r.key];if(e){const t=e[r.command];if(t)return void await t(n,r)}}throw new Error("Invalid command: "+r.command)}catch(t){u(n,{errors:[Oe(t,e,null,void 0,"")]})}})(s.id,s.value);else{let e=r[s.id];delete r[s.id],s.value.error?e(s.value.error,{}):e(null,s.value)}};return{readFromStdout:e=>{let t=a+e.length;if(t>o.length){let e=new Uint8Array(2*t);e.set(o),o=e}o.set(e,a),a+=e.length;let n=0;for(;n+4<=a;){let e=se(o,n);if(n+4+e>a)break;n+=4,c(o.subarray(n,n+e)),n+=e}n>0&&(o.copyWithin(0,n,a),a-=n)},afterClose:e=>{n.didClose=!0,e&&(n.reason=": "+(e.message||e));const t="The service was stopped"+n.reason;for(let e in r)r[e](t,null);r={}},service:{buildOrContext:({callName:n,refs:r,options:s,isTTY:o,defaultWD:a,callback:f})=>{let c=0;const h=i++,p={},d={ref(){1==++c&&r&&r.ref()},unref(){0==--c&&(delete t[h],r&&r.unref())}};t[h]=p,d.ref(),function(e,t,n,r,s,i,o,a,l,u,f){const c=Ie(),h="context"===e,p=(e,t)=>{const r=[];try{Re(r,a,{},l,"warning")}catch(e){}const o=Oe(e,i,c,void 0,t);n(s,{command:"error",flags:r,error:o},(()=>{o.detail=c.load(o.detail),f(De(h?"Context failed":"Build failed",[o],[]),null)}))};let d;if("object"==typeof a){const e=a.plugins;if(void 0!==e){if(!Array.isArray(e))return p(new Error('"plugins" must be an array'),"");d=e}}if(d&&d.length>0)return i.isSync?p(new Error("Cannot use plugins in synchronous API calls"),""):void $e(t,n,r,s,i,o,a,d,c).then((e=>{if(!e.ok)return p(e.error,e.pluginName);try{g(e.requestPlugins,e.runOnEndCallbacks,e.scheduleOnDisposeCallbacks)}catch(e){p(e,"")}}),(e=>p(e,"")));try{g(null,((e,t)=>t([],[])),(()=>{}))}catch(e){p(e,"")}function g(p,d,g){const m=i.hasFS,{entries:y,flags:w,write:b,stdinContents:v,stdinResolveDir:E,absWorkingDir:_,nodePaths:x,mangleCache:k}=function(e,t,n,r,s){var i;let o=[],a=[],l=Object.create(null),u=null,f=null;Re(o,t,l,n,r),Se(o,t,l);let c=ke(t,l,"sourcemap",be),h=ke(t,l,"bundle",ue),p=ke(t,l,"splitting",ue),d=ke(t,l,"preserveSymlinks",ue),g=ke(t,l,"metafile",ue),m=ke(t,l,"outfile",fe),y=ke(t,l,"outdir",fe),w=ke(t,l,"outbase",fe),b=ke(t,l,"tsconfig",fe),v=ke(t,l,"resolveExtensions",de),E=ke(t,l,"nodePaths",de),_=ke(t,l,"mainFields",de),x=ke(t,l,"conditions",de),k=ke(t,l,"external",de),T=ke(t,l,"packages",fe),A=ke(t,l,"alias",ge),R=ke(t,l,"loader",ge),P=ke(t,l,"outExtension",ge),S=ke(t,l,"publicPath",fe),U=ke(t,l,"entryNames",fe),$=ke(t,l,"chunkNames",fe),I=ke(t,l,"assetNames",fe),C=ke(t,l,"inject",de),O=ke(t,l,"banner",ge),j=ke(t,l,"footer",ge),D=ke(t,l,"entryPoints",me),M=ke(t,l,"absWorkingDir",fe),N=ke(t,l,"stdin",ge),B=null!=(i=ke(t,l,"write",ue))?i:s,L=ke(t,l,"allowOverwrite",ue),Y=ke(t,l,"mangleCache",ge);if(l.plugins=!0,Te(t,l,`in ${e}() call`),c&&o.push("--sourcemap"+(!0===c?"":`=${c}`)),h&&o.push("--bundle"),L&&o.push("--allow-overwrite"),p&&o.push("--splitting"),d&&o.push("--preserve-symlinks"),g&&o.push("--metafile"),m&&o.push(`--outfile=${m}`),y&&o.push(`--outdir=${y}`),w&&o.push(`--outbase=${w}`),b&&o.push(`--tsconfig=${b}`),T&&o.push(`--packages=${T}`),v){let e=[];for(let t of v){if(Pe(t,"resolve extension"),t.indexOf(",")>=0)throw new Error(`Invalid resolve extension: ${t}`);e.push(t)}o.push(`--resolve-extensions=${e.join(",")}`)}if(S&&o.push(`--public-path=${S}`),U&&o.push(`--entry-names=${U}`),$&&o.push(`--chunk-names=${$}`),I&&o.push(`--asset-names=${I}`),_){let e=[];for(let t of _){if(Pe(t,"main field"),t.indexOf(",")>=0)throw new Error(`Invalid main field: ${t}`);e.push(t)}o.push(`--main-fields=${e.join(",")}`)}if(x){let e=[];for(let t of x){if(Pe(t,"condition"),t.indexOf(",")>=0)throw new Error(`Invalid condition: ${t}`);e.push(t)}o.push(`--conditions=${e.join(",")}`)}if(k)for(let e of k)o.push(`--external:${Pe(e,"external")}`);if(A)for(let e in A){if(e.indexOf("=")>=0)throw new Error(`Invalid package name in alias: ${e}`);o.push(`--alias:${e}=${Pe(A[e],"alias",e)}`)}if(O)for(let e in O){if(e.indexOf("=")>=0)throw new Error(`Invalid banner file type: ${e}`);o.push(`--banner:${e}=${Pe(O[e],"banner",e)}`)}if(j)for(let e in j){if(e.indexOf("=")>=0)throw new Error(`Invalid footer file type: ${e}`);o.push(`--footer:${e}=${Pe(j[e],"footer",e)}`)}if(C)for(let e of C)o.push(`--inject:${Pe(e,"inject")}`);if(R)for(let e in R){if(e.indexOf("=")>=0)throw new Error(`Invalid loader extension: ${e}`);o.push(`--loader:${e}=${Pe(R[e],"loader",e)}`)}if(P)for(let e in P){if(e.indexOf("=")>=0)throw new Error(`Invalid out extension: ${e}`);o.push(`--out-extension:${e}=${Pe(P[e],"out extension",e)}`)}if(D)if(Array.isArray(D))for(let e=0,t=D.length;e<t;e++){let t=D[e];if("object"==typeof t&&null!==t){let n=Object.create(null),r=ke(t,n,"in",fe),s=ke(t,n,"out",fe);if(Te(t,n,"in entry point at index "+e),void 0===r)throw new Error('Missing property "in" for entry point at index '+e);if(void 0===s)throw new Error('Missing property "out" for entry point at index '+e);a.push([s,r])}else a.push(["",Pe(t,"entry point at index "+e)])}else for(let e in D)a.push([e,Pe(D[e],"entry point",e)]);if(N){let e=Object.create(null),t=ke(N,e,"contents",_e),n=ke(N,e,"resolveDir",fe),r=ke(N,e,"sourcefile",fe),s=ke(N,e,"loader",fe);Te(N,e,'in "stdin" object'),r&&o.push(`--sourcefile=${r}`),s&&o.push(`--loader=${s}`),n&&(f=n),"string"==typeof t?u=ee(t):t instanceof Uint8Array&&(u=t)}let F=[];if(E)for(let e of E)e+="",F.push(e);return{entries:a,flags:o,write:B,stdinContents:u,stdinResolveDir:f,absWorkingDir:M,nodePaths:F,mangleCache:Ae(Y)}}(e,a,l,"warning",m);if(b&&!i.hasFS)throw new Error('The "write" option is unavailable in this environment');const T={command:"build",key:t,entries:y,flags:w,write:b,stdinContents:v,stdinResolveDir:E,absWorkingDir:_||u,nodePaths:x,context:h};p&&(T.plugins=p),k&&(T.mangleCache=k);const A=(e,t)=>{const n={errors:Me(e.errors,c),warnings:Me(e.warnings,c),outputFiles:void 0,metafile:void 0,mangleCache:void 0},r=n.errors.slice(),s=n.warnings.slice();e.outputFiles&&(n.outputFiles=e.outputFiles.map(Ye)),e.metafile&&(n.metafile=JSON.parse(e.metafile)),e.mangleCache&&(n.mangleCache=e.mangleCache),void 0!==e.writeToStdout&&console.log(te(e.writeToStdout).replace(/\n$/,"")),d(n,((e,i)=>{if(r.length>0||e.length>0){const n=De("Build failed",r.concat(e),s.concat(i));return t(n,null,e,i)}t(null,n,e,i)}))};let R,P;h&&(o["on-end"]=(e,t)=>new Promise((n=>{A(t,((t,s,i,o)=>{const a={errors:i,warnings:o};P&&P(t,s),R=void 0,P=void 0,r(e,a),n()}))}))),n(s,T,((e,a)=>{if(e)return f(new Error(e),null);if(!h)return A(a,((e,t)=>(g(),f(e,t))));if(a.errors.length>0)return f(De("Context failed",a.errors,a.warnings),null);let l=!1;const u={rebuild:()=>(R||(R=new Promise(((e,r)=>{let i;P=(t,n)=>{i||(i=()=>t?r(t):e(n))};const o=()=>{n(s,{command:"rebuild",key:t},((e,t)=>{e?r(new Error(e)):i?i():o()}))};o()}))),R),watch:(e={})=>new Promise(((r,o)=>{if(!i.hasFS)throw new Error('Cannot use the "watch" API in this environment');Te(e,{},"in watch() call");n(s,{command:"watch",key:t},(e=>{e?o(new Error(e)):r(void 0)}))})),serve:(e={})=>new Promise(((a,l)=>{if(!i.hasFS)throw new Error('Cannot use the "serve" API in this environment');const u={},f=ke(e,u,"port",he),c=ke(e,u,"host",fe),h=ke(e,u,"servedir",fe),p=ke(e,u,"keyfile",fe),d=ke(e,u,"certfile",fe),g=ke(e,u,"onRequest",pe);Te(e,u,"in serve() call");const m={command:"serve",key:t,onRequest:!!g};void 0!==f&&(m.port=f),void 0!==c&&(m.host=c),void 0!==h&&(m.servedir=h),void 0!==p&&(m.keyfile=p),void 0!==d&&(m.certfile=d),n(s,m,((e,t)=>{if(e)return l(new Error(e));g&&(o["serve-request"]=(e,t)=>{g(t.args),r(e,{})}),a(t)}))})),cancel:()=>new Promise((e=>{if(l)return e();n(s,{command:"cancel",key:t},(()=>{e()}))})),dispose:()=>new Promise((e=>{if(l)return e();l=!0;n(s,{command:"dispose",key:t},(()=>{e(),g(),s.unref()}))}))};s.ref(),f(null,u)}))}}(n,h,l,u,d,e,p,s,o,a,((e,t)=>{try{f(e,t)}finally{d.unref()}}))},transform:({callName:t,refs:n,input:r,options:s,isTTY:i,fs:o,callback:a})=>{const u=Ie();let f=f=>{try{if("string"!=typeof r&&!(r instanceof Uint8Array))throw new Error('The input to "transform" must be a string or a Uint8Array');let{flags:e,mangleCache:c}=function(e,t,n,r){let s=[],i=Object.create(null);Re(s,t,i,n,r),Se(s,t,i);let o=ke(t,i,"sourcemap",be),a=ke(t,i,"tsconfigRaw",ve),l=ke(t,i,"sourcefile",fe),u=ke(t,i,"loader",fe),f=ke(t,i,"banner",fe),c=ke(t,i,"footer",fe),h=ke(t,i,"mangleCache",ge);return Te(t,i,`in ${e}() call`),o&&s.push(`--sourcemap=${!0===o?"external":o}`),a&&s.push(`--tsconfig-raw=${"string"==typeof a?a:JSON.stringify(a)}`),l&&s.push(`--sourcefile=${l}`),u&&s.push(`--loader=${u}`),f&&s.push(`--banner=${f}`),c&&s.push(`--footer=${c}`),{flags:s,mangleCache:Ae(h)}}(t,s,i,"silent"),h={command:"transform",flags:e,inputFS:null!==f,input:null!==f?ee(f):"string"==typeof r?ee(r):r};c&&(h.mangleCache=c),l(n,h,((e,t)=>{if(e)return a(new Error(e),null);let n=Me(t.errors,u),r=Me(t.warnings,u),s=1,i=()=>{if(0==--s){let e={warnings:r,code:t.code,map:t.map,mangleCache:void 0,legalComments:void 0};"legalComments"in t&&(e.legalComments=null==t?void 0:t.legalComments),t.mangleCache&&(e.mangleCache=null==t?void 0:t.mangleCache),a(null,e)}};if(n.length>0)return a(De("Transform failed",n,r),null);t.codeFS&&(s++,o.readFile(t.code,((e,n)=>{null!==e?a(e,null):(t.code=n,i())}))),t.mapFS&&(s++,o.readFile(t.map,((e,n)=>{null!==e?a(e,null):(t.map=n,i())}))),i()}))}catch(t){let r=[];try{Re(r,s,{},i,"silent")}catch(e){}const o=Oe(t,e,u,void 0,"");l(n,{command:"error",flags:r,error:o},(()=>{o.detail=u.load(o.detail),a(De("Transform failed",[o],[]),null)}))}};if(("string"==typeof r||r instanceof Uint8Array)&&r.length>1048576){let e=f;f=()=>o.writeFile(r,e)}f(null)},formatMessages:({callName:e,refs:t,messages:n,options:r,callback:s})=>{let i=Be(n,"messages",null,"");if(!r)throw new Error(`Missing second argument in ${e}() call`);let o={},a=ke(r,o,"kind",fe),u=ke(r,o,"color",ue),f=ke(r,o,"terminalWidth",he);if(Te(r,o,`in ${e}() call`),void 0===a)throw new Error(`Missing "kind" in ${e}() call`);if("error"!==a&&"warning"!==a)throw new Error(`Expected "kind" to be "error" or "warning" in ${e}() call`);let c={command:"format-msgs",messages:i,isWarning:"warning"===a};void 0!==u&&(c.color=u),void 0!==f&&(c.terminalWidth=f),l(t,c,((e,t)=>{if(e)return s(new Error(e),null);s(null,t.messages)}))},analyzeMetafile:({callName:e,refs:t,metafile:n,options:r,callback:s})=>{void 0===r&&(r={});let i={},o=ke(r,i,"color",ue),a=ke(r,i,"verbose",ue);Te(r,i,`in ${e}() call`);let u={command:"analyze-metafile",metafile:n};void 0!==o&&(u.color=o),void 0!==a&&(u.verbose=a),l(t,u,((e,t)=>{if(e)return s(new Error(e),null);s(null,t.result)}))}}}}var $e=async(e,t,n,r,s,i,o,a,l)=>{let u=[],f=[],c={},h={},p=[],d=0,g=0,m=[],y=!1;a=[...a];for(let n of a){let i={};if("object"!=typeof n)throw new Error(`Plugin at index ${g} must be an object`);const a=ke(n,i,"name",fe);if("string"!=typeof a||""===a)throw new Error(`Plugin at index ${g} is missing a name`);try{let w=ke(n,i,"setup",pe);if("function"!=typeof w)throw new Error("Plugin is missing a setup function");Te(n,i,`on plugin ${oe(a)}`);let b={name:a,onStart:!1,onEnd:!1,onResolve:[],onLoad:[]};g++;let v=w({initialOptions:o,resolve:(n,s={})=>{if(!y)throw new Error('Cannot call "resolve" before plugin setup has completed');if("string"!=typeof n)throw new Error("The path to resolve must be a string");let i=Object.create(null),o=ke(s,i,"pluginName",fe),u=ke(s,i,"importer",fe),f=ke(s,i,"namespace",fe),c=ke(s,i,"resolveDir",fe),h=ke(s,i,"kind",fe),p=ke(s,i,"pluginData",le);return Te(s,i,"in resolve() call"),new Promise(((s,i)=>{const d={command:"resolve",path:n,key:e,pluginName:a};if(null!=o&&(d.pluginName=o),null!=u&&(d.importer=u),null!=f&&(d.namespace=f),null!=c&&(d.resolveDir=c),null==h)throw new Error('Must specify "kind" when calling "resolve"');d.kind=h,null!=p&&(d.pluginData=l.store(p)),t(r,d,((e,t)=>{null!==e?i(new Error(e)):s({errors:Me(t.errors,l),warnings:Me(t.warnings,l),path:t.path,external:t.external,sideEffects:t.sideEffects,namespace:t.namespace,suffix:t.suffix,pluginData:l.load(t.pluginData)})}))}))},onStart(e){let t=Ce(new Error('This error came from the "onStart" callback registered here:'),s,"onStart");u.push({name:a,callback:e,note:t}),b.onStart=!0},onEnd(e){let t=Ce(new Error('This error came from the "onEnd" callback registered here:'),s,"onEnd");f.push({name:a,callback:e,note:t}),b.onEnd=!0},onResolve(e,t){let n=Ce(new Error('This error came from the "onResolve" callback registered here:'),s,"onResolve"),r={},i=ke(e,r,"filter",ce),o=ke(e,r,"namespace",fe);if(Te(e,r,`in onResolve() call for plugin ${oe(a)}`),null==i)throw new Error("onResolve() call is missing a filter");let l=d++;c[l]={name:a,callback:t,note:n},b.onResolve.push({id:l,filter:i.source,namespace:o||""})},onLoad(e,t){let n=Ce(new Error('This error came from the "onLoad" callback registered here:'),s,"onLoad"),r={},i=ke(e,r,"filter",ce),o=ke(e,r,"namespace",fe);if(Te(e,r,`in onLoad() call for plugin ${oe(a)}`),null==i)throw new Error("onLoad() call is missing a filter");let l=d++;h[l]={name:a,callback:t,note:n},b.onLoad.push({id:l,filter:i.source,namespace:o||""})},onDispose(e){p.push(e)},esbuild:s.esbuild});v&&await v,m.push(b)}catch(e){return{ok:!1,error:e,pluginName:a}}}i["on-start"]=async(e,t)=>{let r={errors:[],warnings:[]};await Promise.all(u.map((async({name:e,callback:t,note:n})=>{try{let n=await t();if(null!=n){if("object"!=typeof n)throw new Error(`Expected onStart() callback in plugin ${oe(e)} to return an object`);let t={},s=ke(n,t,"errors",de),i=ke(n,t,"warnings",de);Te(n,t,`from onStart() callback in plugin ${oe(e)}`),null!=s&&r.errors.push(...Be(s,"errors",l,e)),null!=i&&r.warnings.push(...Be(i,"warnings",l,e))}}catch(t){r.errors.push(Oe(t,s,l,n&&n(),e))}}))),n(e,r)},i["on-resolve"]=async(e,t)=>{let r,i,o={},a="";for(let e of t.ids)try{({name:a,callback:r,note:i}=c[e]);let n=await r({path:t.path,importer:t.importer,namespace:t.namespace,resolveDir:t.resolveDir,kind:t.kind,pluginData:l.load(t.pluginData)});if(null!=n){if("object"!=typeof n)throw new Error(`Expected onResolve() callback in plugin ${oe(a)} to return an object`);let t={},r=ke(n,t,"pluginName",fe),s=ke(n,t,"path",fe),i=ke(n,t,"namespace",fe),u=ke(n,t,"suffix",fe),f=ke(n,t,"external",ue),c=ke(n,t,"sideEffects",ue),h=ke(n,t,"pluginData",le),p=ke(n,t,"errors",de),d=ke(n,t,"warnings",de),g=ke(n,t,"watchFiles",de),m=ke(n,t,"watchDirs",de);Te(n,t,`from onResolve() callback in plugin ${oe(a)}`),o.id=e,null!=r&&(o.pluginName=r),null!=s&&(o.path=s),null!=i&&(o.namespace=i),null!=u&&(o.suffix=u),null!=f&&(o.external=f),null!=c&&(o.sideEffects=c),null!=h&&(o.pluginData=l.store(h)),null!=p&&(o.errors=Be(p,"errors",l,a)),null!=d&&(o.warnings=Be(d,"warnings",l,a)),null!=g&&(o.watchFiles=Le(g,"watchFiles")),null!=m&&(o.watchDirs=Le(m,"watchDirs"));break}}catch(t){o={id:e,errors:[Oe(t,s,l,i&&i(),a)]};break}n(e,o)},i["on-load"]=async(e,t)=>{let r,i,o={},a="";for(let e of t.ids)try{({name:a,callback:r,note:i}=h[e]);let n=await r({path:t.path,namespace:t.namespace,suffix:t.suffix,pluginData:l.load(t.pluginData)});if(null!=n){if("object"!=typeof n)throw new Error(`Expected onLoad() callback in plugin ${oe(a)} to return an object`);let t={},r=ke(n,t,"pluginName",fe),s=ke(n,t,"contents",_e),i=ke(n,t,"resolveDir",fe),u=ke(n,t,"pluginData",le),f=ke(n,t,"loader",fe),c=ke(n,t,"errors",de),h=ke(n,t,"warnings",de),p=ke(n,t,"watchFiles",de),d=ke(n,t,"watchDirs",de);Te(n,t,`from onLoad() callback in plugin ${oe(a)}`),o.id=e,null!=r&&(o.pluginName=r),s instanceof Uint8Array?o.contents=s:null!=s&&(o.contents=ee(s)),null!=i&&(o.resolveDir=i),null!=u&&(o.pluginData=l.store(u)),null!=f&&(o.loader=f),null!=c&&(o.errors=Be(c,"errors",l,a)),null!=h&&(o.warnings=Be(h,"warnings",l,a)),null!=p&&(o.watchFiles=Le(p,"watchFiles")),null!=d&&(o.watchDirs=Le(d,"watchDirs"));break}}catch(t){o={id:e,errors:[Oe(t,s,l,i&&i(),a)]};break}n(e,o)};let w=(e,t)=>t([],[]);f.length>0&&(w=(e,t)=>{(async()=>{const n=[],r=[];for(const{name:t,callback:i,note:o}of f){let a,u;try{const n=await i(e);if(null!=n){if("object"!=typeof n)throw new Error(`Expected onEnd() callback in plugin ${oe(t)} to return an object`);let e={},r=ke(n,e,"errors",de),s=ke(n,e,"warnings",de);Te(n,e,`from onEnd() callback in plugin ${oe(t)}`),null!=r&&(a=Be(r,"errors",l,t)),null!=s&&(u=Be(s,"warnings",l,t))}}catch(e){a=[Oe(e,s,l,o&&o(),t)]}if(a){n.push(...a);try{e.errors.push(...a)}catch(e){}}if(u){r.push(...u);try{e.warnings.push(...u)}catch(e){}}}t(n,r)})()});return y=!0,{ok:!0,requestPlugins:m,runOnEndCallbacks:w,scheduleOnDisposeCallbacks:()=>{for(const e of p)setTimeout((()=>e()),0)}}};function Ie(){const e=new Map;let t=0;return{load:t=>e.get(t),store(n){if(void 0===n)return-1;const r=t++;return e.set(r,n),r}}}function Ce(e,t,n){let r,s=!1;return()=>{if(s)return r;s=!0;try{let s=(e.stack+"").split("\n");s.splice(1,1);let i=je(t,s,n);if(i)return r={text:e.message,location:i},r}catch(e){}}}function Oe(e,t,n,r,s){let i="Internal error",o=null;try{i=(e&&e.message||e)+""}catch(e){}try{o=je(t,(e.stack+"").split("\n"),"")}catch(e){}return{id:"",pluginName:s,text:i,location:o,notes:r?[r]:[],detail:n?n.store(e):-1}}function je(e,t,n){let r="    at ";if(e.readFileSync&&!t[0].startsWith(r)&&t[1].startsWith(r))for(let s=1;s<t.length;s++){let i=t[s];if(i.startsWith(r))for(i=i.slice(r.length);;){let r=/^(?:new |async )?\S+ \((.*)\)$/.exec(i);if(r)i=r[1];else{if(r=/^eval at \S+ \((.*)\)(?:, \S+:\d+:\d+)?$/.exec(i),!r){if(r=/^(\S+):(\d+):(\d+)$/.exec(i),r){let s;try{s=e.readFileSync(r[1],"utf8")}catch(e){break}let i=s.split(/\r\n|\r|\n|\u2028|\u2029/)[+r[2]-1]||"",o=+r[3]-1,a=i.slice(o,o+n.length)===n?n.length:0;return{file:r[1],namespace:"file",line:+r[2],column:ee(i.slice(0,o)).length,length:ee(i.slice(o,o+a)).length,lineText:i+"\n"+t.slice(1).join("\n"),suggestion:""}}break}i=r[1]}}}return null}function De(e,t,n){let r=t.length<1?"":` with ${t.length} error${t.length<2?"":"s"}:`+t.slice(0,6).map(((e,t)=>{if(5===t)return"\n...";if(!e.location)return`\nerror: ${e.text}`;let{file:n,line:r,column:s}=e.location;return`\n${n}:${r}:${s}: ERROR: ${e.pluginName?`[plugin: ${e.pluginName}] `:""}${e.text}`})).join(""),s=new Error(`${e}${r}`);return s.errors=t,s.warnings=n,s}function Me(e,t){for(const n of e)n.detail=t.load(n.detail);return e}function Ne(e,t){if(null==e)return null;let n={},r=ke(e,n,"file",fe),s=ke(e,n,"namespace",fe),i=ke(e,n,"line",he),o=ke(e,n,"column",he),a=ke(e,n,"length",he),l=ke(e,n,"lineText",fe),u=ke(e,n,"suggestion",fe);return Te(e,n,t),{file:r||"",namespace:s||"",line:i||0,column:o||0,length:a||0,lineText:l||"",suggestion:u||""}}function Be(e,t,n,r){let s=[],i=0;for(const o of e){let e={},a=ke(o,e,"id",fe),l=ke(o,e,"pluginName",fe),u=ke(o,e,"text",fe),f=ke(o,e,"location",we),c=ke(o,e,"notes",de),h=ke(o,e,"detail",le),p=`in element ${i} of "${t}"`;Te(o,e,p);let d=[];if(c)for(const e of c){let t={},n=ke(e,t,"text",fe),r=ke(e,t,"location",we);Te(e,t,p),d.push({text:n||"",location:Ne(r,p)})}s.push({id:a||"",pluginName:l||r,text:u||"",location:Ne(f,p),notes:d,detail:n?n.store(h):-1}),i++}return s}function Le(e,t){const n=[];for(const r of e){if("string"!=typeof r)throw new Error(`${oe(t)} must be an array of strings`);n.push(r)}return n}function Ye({path:e,contents:t}){let n=null;return{path:e,contents:t,get text(){const e=this.contents;return null!==n&&e===t||(t=e,n=te(e)),n}}}var Fe,Ve,We="0.17.10",ze=e=>et().build(e),qe=e=>et().context(e),Ge=(e,t)=>et().transform(e,t),Je=(e,t)=>et().formatMessages(e,t),He=(e,t)=>et().analyzeMetafile(e,t),Xe=()=>{throw new Error('The "buildSync" API only works in node')},Qe=()=>{throw new Error('The "transformSync" API only works in node')},Ze=()=>{throw new Error('The "formatMessagesSync" API only works in node')},Ke=()=>{throw new Error('The "analyzeMetafileSync" API only works in node')},et=()=>{if(Ve)return Ve;if(Fe)throw new Error('You need to wait for the promise returned from "initialize" to be resolved before calling this');throw new Error('You need to call "initialize" before calling this')},tt=e=>{e=function(e){let t=Object.create(null),n=ke(e,t,"wasmURL",xe),r=ke(e,t,"wasmModule",ye),s=ke(e,t,"worker",ue);return Te(e,t,"in initialize() call"),{wasmURL:n,wasmModule:r,worker:s}}(e||{});let t=e.wasmURL,n=e.wasmModule,r=!1!==e.worker;if(!t&&!n)throw new Error('Must provide either the "wasmURL" option or the "wasmModule" option');if(Fe)throw new Error('Cannot call "initialize" more than once');return(Fe=nt(t||"",n,r)).catch((()=>{Fe=void 0})),Fe},nt=async(e,t,n)=>{let r,s,i;if(n){let e=new Blob(['onmessage=((postMessage) => {\n      // Copyright 2018 The Go Authors. All rights reserved.\n      // Use of this source code is governed by a BSD-style\n      // license that can be found in the LICENSE file.\n      let onmessage;\n      let globalThis = {};\n      for (let o = self; o; o = Object.getPrototypeOf(o))\n        for (let k of Object.getOwnPropertyNames(o))\n          if (!(k in globalThis))\n            Object.defineProperty(globalThis, k, { get: () => self[k] });\n      "use strict";\n      (() => {\n        const enosys = () => {\n          const err = new Error("not implemented");\n          err.code = "ENOSYS";\n          return err;\n        };\n        if (!globalThis.fs) {\n          let outputBuf = "";\n          globalThis.fs = {\n            constants: { O_WRONLY: -1, O_RDWR: -1, O_CREAT: -1, O_TRUNC: -1, O_APPEND: -1, O_EXCL: -1 },\n            // unused\n            writeSync(fd, buf) {\n              outputBuf += decoder.decode(buf);\n              const nl = outputBuf.lastIndexOf("\\n");\n              if (nl != -1) {\n                console.log(outputBuf.substring(0, nl));\n                outputBuf = outputBuf.substring(nl + 1);\n              }\n              return buf.length;\n            },\n            write(fd, buf, offset, length, position, callback) {\n              if (offset !== 0 || length !== buf.length || position !== null) {\n                callback(enosys());\n                return;\n              }\n              const n = this.writeSync(fd, buf);\n              callback(null, n);\n            },\n            chmod(path, mode, callback) {\n              callback(enosys());\n            },\n            chown(path, uid, gid, callback) {\n              callback(enosys());\n            },\n            close(fd, callback) {\n              callback(enosys());\n            },\n            fchmod(fd, mode, callback) {\n              callback(enosys());\n            },\n            fchown(fd, uid, gid, callback) {\n              callback(enosys());\n            },\n            fstat(fd, callback) {\n              callback(enosys());\n            },\n            fsync(fd, callback) {\n              callback(null);\n            },\n            ftruncate(fd, length, callback) {\n              callback(enosys());\n            },\n            lchown(path, uid, gid, callback) {\n              callback(enosys());\n            },\n            link(path, link, callback) {\n              callback(enosys());\n            },\n            lstat(path, callback) {\n              callback(enosys());\n            },\n            mkdir(path, perm, callback) {\n              callback(enosys());\n            },\n            open(path, flags, mode, callback) {\n              callback(enosys());\n            },\n            read(fd, buffer, offset, length, position, callback) {\n              callback(enosys());\n            },\n            readdir(path, callback) {\n              callback(enosys());\n            },\n            readlink(path, callback) {\n              callback(enosys());\n            },\n            rename(from, to, callback) {\n              callback(enosys());\n            },\n            rmdir(path, callback) {\n              callback(enosys());\n            },\n            stat(path, callback) {\n              callback(enosys());\n            },\n            symlink(path, link, callback) {\n              callback(enosys());\n            },\n            truncate(path, length, callback) {\n              callback(enosys());\n            },\n            unlink(path, callback) {\n              callback(enosys());\n            },\n            utimes(path, atime, mtime, callback) {\n              callback(enosys());\n            }\n          };\n        }\n        if (!globalThis.process) {\n          globalThis.process = {\n            getuid() {\n              return -1;\n            },\n            getgid() {\n              return -1;\n            },\n            geteuid() {\n              return -1;\n            },\n            getegid() {\n              return -1;\n            },\n            getgroups() {\n              throw enosys();\n            },\n            pid: -1,\n            ppid: -1,\n            umask() {\n              throw enosys();\n            },\n            cwd() {\n              throw enosys();\n            },\n            chdir() {\n              throw enosys();\n            }\n          };\n        }\n        if (!globalThis.crypto) {\n          throw new Error("globalThis.crypto is not available, polyfill required (crypto.getRandomValues only)");\n        }\n        if (!globalThis.performance) {\n          throw new Error("globalThis.performance is not available, polyfill required (performance.now only)");\n        }\n        if (!globalThis.TextEncoder) {\n          throw new Error("globalThis.TextEncoder is not available, polyfill required");\n        }\n        if (!globalThis.TextDecoder) {\n          throw new Error("globalThis.TextDecoder is not available, polyfill required");\n        }\n        const encoder = new TextEncoder("utf-8");\n        const decoder = new TextDecoder("utf-8");\n        globalThis.Go = class {\n          constructor() {\n            this.argv = ["js"];\n            this.env = {};\n            this.exit = (code) => {\n              if (code !== 0) {\n                console.warn("exit code:", code);\n              }\n            };\n            this._exitPromise = new Promise((resolve) => {\n              this._resolveExitPromise = resolve;\n            });\n            this._pendingEvent = null;\n            this._scheduledTimeouts = /* @__PURE__ */ new Map();\n            this._nextCallbackTimeoutID = 1;\n            const setInt64 = (addr, v) => {\n              this.mem.setUint32(addr + 0, v, true);\n              this.mem.setUint32(addr + 4, Math.floor(v / 4294967296), true);\n            };\n            const getInt64 = (addr) => {\n              const low = this.mem.getUint32(addr + 0, true);\n              const high = this.mem.getInt32(addr + 4, true);\n              return low + high * 4294967296;\n            };\n            const loadValue = (addr) => {\n              const f = this.mem.getFloat64(addr, true);\n              if (f === 0) {\n                return void 0;\n              }\n              if (!isNaN(f)) {\n                return f;\n              }\n              const id = this.mem.getUint32(addr, true);\n              return this._values[id];\n            };\n            const storeValue = (addr, v) => {\n              const nanHead = 2146959360;\n              if (typeof v === "number" && v !== 0) {\n                if (isNaN(v)) {\n                  this.mem.setUint32(addr + 4, nanHead, true);\n                  this.mem.setUint32(addr, 0, true);\n                  return;\n                }\n                this.mem.setFloat64(addr, v, true);\n                return;\n              }\n              if (v === void 0) {\n                this.mem.setFloat64(addr, 0, true);\n                return;\n              }\n              let id = this._ids.get(v);\n              if (id === void 0) {\n                id = this._idPool.pop();\n                if (id === void 0) {\n                  id = this._values.length;\n                }\n                this._values[id] = v;\n                this._goRefCounts[id] = 0;\n                this._ids.set(v, id);\n              }\n              this._goRefCounts[id]++;\n              let typeFlag = 0;\n              switch (typeof v) {\n                case "object":\n                  if (v !== null) {\n                    typeFlag = 1;\n                  }\n                  break;\n                case "string":\n                  typeFlag = 2;\n                  break;\n                case "symbol":\n                  typeFlag = 3;\n                  break;\n                case "function":\n                  typeFlag = 4;\n                  break;\n              }\n              this.mem.setUint32(addr + 4, nanHead | typeFlag, true);\n              this.mem.setUint32(addr, id, true);\n            };\n            const loadSlice = (addr) => {\n              const array = getInt64(addr + 0);\n              const len = getInt64(addr + 8);\n              return new Uint8Array(this._inst.exports.mem.buffer, array, len);\n            };\n            const loadSliceOfValues = (addr) => {\n              const array = getInt64(addr + 0);\n              const len = getInt64(addr + 8);\n              const a = new Array(len);\n              for (let i = 0; i < len; i++) {\n                a[i] = loadValue(array + i * 8);\n              }\n              return a;\n            };\n            const loadString = (addr) => {\n              const saddr = getInt64(addr + 0);\n              const len = getInt64(addr + 8);\n              return decoder.decode(new DataView(this._inst.exports.mem.buffer, saddr, len));\n            };\n            const timeOrigin = Date.now() - performance.now();\n            this.importObject = {\n              go: {\n                // Go\'s SP does not change as long as no Go code is running. Some operations (e.g. calls, getters and setters)\n                // may synchronously trigger a Go event handler. This makes Go code get executed in the middle of the imported\n                // function. A goroutine can switch to a new stack if the current stack is too small (see morestack function).\n                // This changes the SP, thus we have to update the SP used by the imported function.\n                // func wasmExit(code int32)\n                "runtime.wasmExit": (sp) => {\n                  sp >>>= 0;\n                  const code = this.mem.getInt32(sp + 8, true);\n                  this.exited = true;\n                  delete this._inst;\n                  delete this._values;\n                  delete this._goRefCounts;\n                  delete this._ids;\n                  delete this._idPool;\n                  this.exit(code);\n                },\n                // func wasmWrite(fd uintptr, p unsafe.Pointer, n int32)\n                "runtime.wasmWrite": (sp) => {\n                  sp >>>= 0;\n                  const fd = getInt64(sp + 8);\n                  const p = getInt64(sp + 16);\n                  const n = this.mem.getInt32(sp + 24, true);\n                  globalThis.fs.writeSync(fd, new Uint8Array(this._inst.exports.mem.buffer, p, n));\n                },\n                // func resetMemoryDataView()\n                "runtime.resetMemoryDataView": (sp) => {\n                  sp >>>= 0;\n                  this.mem = new DataView(this._inst.exports.mem.buffer);\n                },\n                // func nanotime1() int64\n                "runtime.nanotime1": (sp) => {\n                  sp >>>= 0;\n                  setInt64(sp + 8, (timeOrigin + performance.now()) * 1e6);\n                },\n                // func walltime() (sec int64, nsec int32)\n                "runtime.walltime": (sp) => {\n                  sp >>>= 0;\n                  const msec = (/* @__PURE__ */ new Date()).getTime();\n                  setInt64(sp + 8, msec / 1e3);\n                  this.mem.setInt32(sp + 16, msec % 1e3 * 1e6, true);\n                },\n                // func scheduleTimeoutEvent(delay int64) int32\n                "runtime.scheduleTimeoutEvent": (sp) => {\n                  sp >>>= 0;\n                  const id = this._nextCallbackTimeoutID;\n                  this._nextCallbackTimeoutID++;\n                  this._scheduledTimeouts.set(id, setTimeout(\n                    () => {\n                      this._resume();\n                      while (this._scheduledTimeouts.has(id)) {\n                        console.warn("scheduleTimeoutEvent: missed timeout event");\n                        this._resume();\n                      }\n                    },\n                    getInt64(sp + 8) + 1\n                    // setTimeout has been seen to fire up to 1 millisecond early\n                  ));\n                  this.mem.setInt32(sp + 16, id, true);\n                },\n                // func clearTimeoutEvent(id int32)\n                "runtime.clearTimeoutEvent": (sp) => {\n                  sp >>>= 0;\n                  const id = this.mem.getInt32(sp + 8, true);\n                  clearTimeout(this._scheduledTimeouts.get(id));\n                  this._scheduledTimeouts.delete(id);\n                },\n                // func getRandomData(r []byte)\n                "runtime.getRandomData": (sp) => {\n                  sp >>>= 0;\n                  crypto.getRandomValues(loadSlice(sp + 8));\n                },\n                // func finalizeRef(v ref)\n                "syscall/js.finalizeRef": (sp) => {\n                  sp >>>= 0;\n                  const id = this.mem.getUint32(sp + 8, true);\n                  this._goRefCounts[id]--;\n                  if (this._goRefCounts[id] === 0) {\n                    const v = this._values[id];\n                    this._values[id] = null;\n                    this._ids.delete(v);\n                    this._idPool.push(id);\n                  }\n                },\n                // func stringVal(value string) ref\n                "syscall/js.stringVal": (sp) => {\n                  sp >>>= 0;\n                  storeValue(sp + 24, loadString(sp + 8));\n                },\n                // func valueGet(v ref, p string) ref\n                "syscall/js.valueGet": (sp) => {\n                  sp >>>= 0;\n                  const result = Reflect.get(loadValue(sp + 8), loadString(sp + 16));\n                  sp = this._inst.exports.getsp() >>> 0;\n                  storeValue(sp + 32, result);\n                },\n                // func valueSet(v ref, p string, x ref)\n                "syscall/js.valueSet": (sp) => {\n                  sp >>>= 0;\n                  Reflect.set(loadValue(sp + 8), loadString(sp + 16), loadValue(sp + 32));\n                },\n                // func valueDelete(v ref, p string)\n                "syscall/js.valueDelete": (sp) => {\n                  sp >>>= 0;\n                  Reflect.deleteProperty(loadValue(sp + 8), loadString(sp + 16));\n                },\n                // func valueIndex(v ref, i int) ref\n                "syscall/js.valueIndex": (sp) => {\n                  sp >>>= 0;\n                  storeValue(sp + 24, Reflect.get(loadValue(sp + 8), getInt64(sp + 16)));\n                },\n                // valueSetIndex(v ref, i int, x ref)\n                "syscall/js.valueSetIndex": (sp) => {\n                  sp >>>= 0;\n                  Reflect.set(loadValue(sp + 8), getInt64(sp + 16), loadValue(sp + 24));\n                },\n                // func valueCall(v ref, m string, args []ref) (ref, bool)\n                "syscall/js.valueCall": (sp) => {\n                  sp >>>= 0;\n                  try {\n                    const v = loadValue(sp + 8);\n                    const m = Reflect.get(v, loadString(sp + 16));\n                    const args = loadSliceOfValues(sp + 32);\n                    const result = Reflect.apply(m, v, args);\n                    sp = this._inst.exports.getsp() >>> 0;\n                    storeValue(sp + 56, result);\n                    this.mem.setUint8(sp + 64, 1);\n                  } catch (err) {\n                    sp = this._inst.exports.getsp() >>> 0;\n                    storeValue(sp + 56, err);\n                    this.mem.setUint8(sp + 64, 0);\n                  }\n                },\n                // func valueInvoke(v ref, args []ref) (ref, bool)\n                "syscall/js.valueInvoke": (sp) => {\n                  sp >>>= 0;\n                  try {\n                    const v = loadValue(sp + 8);\n                    const args = loadSliceOfValues(sp + 16);\n                    const result = Reflect.apply(v, void 0, args);\n                    sp = this._inst.exports.getsp() >>> 0;\n                    storeValue(sp + 40, result);\n                    this.mem.setUint8(sp + 48, 1);\n                  } catch (err) {\n                    sp = this._inst.exports.getsp() >>> 0;\n                    storeValue(sp + 40, err);\n                    this.mem.setUint8(sp + 48, 0);\n                  }\n                },\n                // func valueNew(v ref, args []ref) (ref, bool)\n                "syscall/js.valueNew": (sp) => {\n                  sp >>>= 0;\n                  try {\n                    const v = loadValue(sp + 8);\n                    const args = loadSliceOfValues(sp + 16);\n                    const result = Reflect.construct(v, args);\n                    sp = this._inst.exports.getsp() >>> 0;\n                    storeValue(sp + 40, result);\n                    this.mem.setUint8(sp + 48, 1);\n                  } catch (err) {\n                    sp = this._inst.exports.getsp() >>> 0;\n                    storeValue(sp + 40, err);\n                    this.mem.setUint8(sp + 48, 0);\n                  }\n                },\n                // func valueLength(v ref) int\n                "syscall/js.valueLength": (sp) => {\n                  sp >>>= 0;\n                  setInt64(sp + 16, parseInt(loadValue(sp + 8).length));\n                },\n                // valuePrepareString(v ref) (ref, int)\n                "syscall/js.valuePrepareString": (sp) => {\n                  sp >>>= 0;\n                  const str = encoder.encode(String(loadValue(sp + 8)));\n                  storeValue(sp + 16, str);\n                  setInt64(sp + 24, str.length);\n                },\n                // valueLoadString(v ref, b []byte)\n                "syscall/js.valueLoadString": (sp) => {\n                  sp >>>= 0;\n                  const str = loadValue(sp + 8);\n                  loadSlice(sp + 16).set(str);\n                },\n                // func valueInstanceOf(v ref, t ref) bool\n                "syscall/js.valueInstanceOf": (sp) => {\n                  sp >>>= 0;\n                  this.mem.setUint8(sp + 24, loadValue(sp + 8) instanceof loadValue(sp + 16) ? 1 : 0);\n                },\n                // func copyBytesToGo(dst []byte, src ref) (int, bool)\n                "syscall/js.copyBytesToGo": (sp) => {\n                  sp >>>= 0;\n                  const dst = loadSlice(sp + 8);\n                  const src = loadValue(sp + 32);\n                  if (!(src instanceof Uint8Array || src instanceof Uint8ClampedArray)) {\n                    this.mem.setUint8(sp + 48, 0);\n                    return;\n                  }\n                  const toCopy = src.subarray(0, dst.length);\n                  dst.set(toCopy);\n                  setInt64(sp + 40, toCopy.length);\n                  this.mem.setUint8(sp + 48, 1);\n                },\n                // func copyBytesToJS(dst ref, src []byte) (int, bool)\n                "syscall/js.copyBytesToJS": (sp) => {\n                  sp >>>= 0;\n                  const dst = loadValue(sp + 8);\n                  const src = loadSlice(sp + 16);\n                  if (!(dst instanceof Uint8Array || dst instanceof Uint8ClampedArray)) {\n                    this.mem.setUint8(sp + 48, 0);\n                    return;\n                  }\n                  const toCopy = src.subarray(0, dst.length);\n                  dst.set(toCopy);\n                  setInt64(sp + 40, toCopy.length);\n                  this.mem.setUint8(sp + 48, 1);\n                },\n                "debug": (value) => {\n                  console.log(value);\n                }\n              }\n            };\n          }\n          async run(instance) {\n            if (!(instance instanceof WebAssembly.Instance)) {\n              throw new Error("Go.run: WebAssembly.Instance expected");\n            }\n            this._inst = instance;\n            this.mem = new DataView(this._inst.exports.mem.buffer);\n            this._values = [\n              // JS values that Go currently has references to, indexed by reference id\n              NaN,\n              0,\n              null,\n              true,\n              false,\n              globalThis,\n              this\n            ];\n            this._goRefCounts = new Array(this._values.length).fill(Infinity);\n            this._ids = /* @__PURE__ */ new Map([\n              // mapping from JS values to reference ids\n              [0, 1],\n              [null, 2],\n              [true, 3],\n              [false, 4],\n              [globalThis, 5],\n              [this, 6]\n            ]);\n            this._idPool = [];\n            this.exited = false;\n            let offset = 4096;\n            const strPtr = (str) => {\n              const ptr = offset;\n              const bytes = encoder.encode(str + "\\0");\n              new Uint8Array(this.mem.buffer, offset, bytes.length).set(bytes);\n              offset += bytes.length;\n              if (offset % 8 !== 0) {\n                offset += 8 - offset % 8;\n              }\n              return ptr;\n            };\n            const argc = this.argv.length;\n            const argvPtrs = [];\n            this.argv.forEach((arg) => {\n              argvPtrs.push(strPtr(arg));\n            });\n            argvPtrs.push(0);\n            const keys = Object.keys(this.env).sort();\n            keys.forEach((key) => {\n              argvPtrs.push(strPtr(`${key}=${this.env[key]}`));\n            });\n            argvPtrs.push(0);\n            const argv = offset;\n            argvPtrs.forEach((ptr) => {\n              this.mem.setUint32(offset, ptr, true);\n              this.mem.setUint32(offset + 4, 0, true);\n              offset += 8;\n            });\n            const wasmMinDataAddr = 4096 + 8192;\n            if (offset >= wasmMinDataAddr) {\n              throw new Error("total length of command line and environment variables exceeds limit");\n            }\n            this._inst.exports.run(argc, argv);\n            if (this.exited) {\n              this._resolveExitPromise();\n            }\n            await this._exitPromise;\n          }\n          _resume() {\n            if (this.exited) {\n              throw new Error("Go program has already exited");\n            }\n            this._inst.exports.resume();\n            if (this.exited) {\n              this._resolveExitPromise();\n            }\n          }\n          _makeFuncWrapper(id) {\n            const go = this;\n            return function() {\n              const event = { id, this: this, args: arguments };\n              go._pendingEvent = event;\n              go._resume();\n              return event.result;\n            };\n          }\n        };\n      })();\n      onmessage = ({ data: wasm }) => {\n        let decoder = new TextDecoder();\n        let fs = globalThis.fs;\n        let stderr = "";\n        fs.writeSync = (fd, buffer) => {\n          if (fd === 1) {\n            postMessage(buffer);\n          } else if (fd === 2) {\n            stderr += decoder.decode(buffer);\n            let parts = stderr.split("\\n");\n            if (parts.length > 1)\n              console.log(parts.slice(0, -1).join("\\n"));\n            stderr = parts[parts.length - 1];\n          } else {\n            throw new Error("Bad write");\n          }\n          return buffer.length;\n        };\n        let stdin = [];\n        let resumeStdin;\n        let stdinPos = 0;\n        onmessage = ({ data }) => {\n          if (data.length > 0) {\n            stdin.push(data);\n            if (resumeStdin)\n              resumeStdin();\n          }\n        };\n        fs.read = (fd, buffer, offset, length, position, callback) => {\n          if (fd !== 0 || offset !== 0 || length !== buffer.length || position !== null) {\n            throw new Error("Bad read");\n          }\n          if (stdin.length === 0) {\n            resumeStdin = () => fs.read(fd, buffer, offset, length, position, callback);\n            return;\n          }\n          let first = stdin[0];\n          let count = Math.max(0, Math.min(length, first.length - stdinPos));\n          buffer.set(first.subarray(stdinPos, stdinPos + count), offset);\n          stdinPos += count;\n          if (stdinPos === first.length) {\n            stdin.shift();\n            stdinPos = 0;\n          }\n          callback(null, count);\n        };\n        let go = new globalThis.Go();\n        go.argv = ["", `--service=${"0.17.10"}`];\n        tryToInstantiateModule(wasm, go).then(\n          (instance) => {\n            postMessage(null);\n            go.run(instance);\n          },\n          (error) => {\n            postMessage(error);\n          }\n        );\n      };\n      async function tryToInstantiateModule(wasm, go) {\n        if (wasm instanceof WebAssembly.Module) {\n          return WebAssembly.instantiate(wasm, go.importObject);\n        }\n        const res = await fetch(wasm);\n        if (!res.ok)\n          throw new Error(`Failed to download ${JSON.stringify(wasm)}`);\n        if ("instantiateStreaming" in WebAssembly && /^application\\/wasm($|;)/i.test(res.headers.get("Content-Type") || "")) {\n          const result2 = await WebAssembly.instantiateStreaming(res, go.importObject);\n          return result2.instance;\n        }\n        const bytes = await res.arrayBuffer();\n        const result = await WebAssembly.instantiate(bytes, go.importObject);\n        return result.instance;\n      }\n      return (m) => onmessage(m);\n    })(postMessage)'],{type:"text/javascript"});r=new Worker(URL.createObjectURL(e))}else{let e=(e=>{let t,n={};for(let e=self;e;e=Object.getPrototypeOf(e))for(let t of Object.getOwnPropertyNames(e))t in n||Object.defineProperty(n,t,{get:()=>self[t]});return(()=>{const e=()=>{const e=new Error("not implemented");return e.code="ENOSYS",e};if(!n.fs){let t="";n.fs={constants:{O_WRONLY:-1,O_RDWR:-1,O_CREAT:-1,O_TRUNC:-1,O_APPEND:-1,O_EXCL:-1},writeSync(e,n){t+=r.decode(n);const s=t.lastIndexOf("\n");return-1!=s&&(console.log(t.substring(0,s)),t=t.substring(s+1)),n.length},write(t,n,r,s,i,o){if(0!==r||s!==n.length||null!==i)return void o(e());o(null,this.writeSync(t,n))},chmod(t,n,r){r(e())},chown(t,n,r,s){s(e())},close(t,n){n(e())},fchmod(t,n,r){r(e())},fchown(t,n,r,s){s(e())},fstat(t,n){n(e())},fsync(e,t){t(null)},ftruncate(t,n,r){r(e())},lchown(t,n,r,s){s(e())},link(t,n,r){r(e())},lstat(t,n){n(e())},mkdir(t,n,r){r(e())},open(t,n,r,s){s(e())},read(t,n,r,s,i,o){o(e())},readdir(t,n){n(e())},readlink(t,n){n(e())},rename(t,n,r){r(e())},rmdir(t,n){n(e())},stat(t,n){n(e())},symlink(t,n,r){r(e())},truncate(t,n,r){r(e())},unlink(t,n){n(e())},utimes(t,n,r,s){s(e())}}}if(n.process||(n.process={getuid:()=>-1,getgid:()=>-1,geteuid:()=>-1,getegid:()=>-1,getgroups(){throw e()},pid:-1,ppid:-1,umask(){throw e()},cwd(){throw e()},chdir(){throw e()}}),!n.crypto)throw new Error("globalThis.crypto is not available, polyfill required (crypto.getRandomValues only)");if(!n.performance)throw new Error("globalThis.performance is not available, polyfill required (performance.now only)");if(!n.TextEncoder)throw new Error("globalThis.TextEncoder is not available, polyfill required");if(!n.TextDecoder)throw new Error("globalThis.TextDecoder is not available, polyfill required");const t=new TextEncoder("utf-8"),r=new TextDecoder("utf-8");n.Go=class{constructor(){this.argv=["js"],this.env={},this.exit=e=>{0!==e&&console.warn("exit code:",e)},this._exitPromise=new Promise((e=>{this._resolveExitPromise=e})),this._pendingEvent=null,this._scheduledTimeouts=new Map,this._nextCallbackTimeoutID=1;const e=(e,t)=>{this.mem.setUint32(e+0,t,!0),this.mem.setUint32(e+4,Math.floor(t/4294967296),!0)},s=e=>this.mem.getUint32(e+0,!0)+4294967296*this.mem.getInt32(e+4,!0),i=e=>{const t=this.mem.getFloat64(e,!0);if(0===t)return;if(!isNaN(t))return t;const n=this.mem.getUint32(e,!0);return this._values[n]},o=(e,t)=>{const n=2146959360;if("number"==typeof t&&0!==t)return isNaN(t)?(this.mem.setUint32(e+4,n,!0),void this.mem.setUint32(e,0,!0)):void this.mem.setFloat64(e,t,!0);if(void 0===t)return void this.mem.setFloat64(e,0,!0);let r=this._ids.get(t);void 0===r&&(r=this._idPool.pop(),void 0===r&&(r=this._values.length),this._values[r]=t,this._goRefCounts[r]=0,this._ids.set(t,r)),this._goRefCounts[r]++;let s=0;switch(typeof t){case"object":null!==t&&(s=1);break;case"string":s=2;break;case"symbol":s=3;break;case"function":s=4}this.mem.setUint32(e+4,n|s,!0),this.mem.setUint32(e,r,!0)},a=e=>{const t=s(e+0),n=s(e+8);return new Uint8Array(this._inst.exports.mem.buffer,t,n)},l=e=>{const t=s(e+0),n=s(e+8),r=new Array(n);for(let e=0;e<n;e++)r[e]=i(t+8*e);return r},u=e=>{const t=s(e+0),n=s(e+8);return r.decode(new DataView(this._inst.exports.mem.buffer,t,n))},f=Date.now()-performance.now();this.importObject={go:{"runtime.wasmExit":e=>{e>>>=0;const t=this.mem.getInt32(e+8,!0);this.exited=!0,delete this._inst,delete this._values,delete this._goRefCounts,delete this._ids,delete this._idPool,this.exit(t)},"runtime.wasmWrite":e=>{const t=s((e>>>=0)+8),r=s(e+16),i=this.mem.getInt32(e+24,!0);n.fs.writeSync(t,new Uint8Array(this._inst.exports.mem.buffer,r,i))},"runtime.resetMemoryDataView":e=>{this.mem=new DataView(this._inst.exports.mem.buffer)},"runtime.nanotime1":t=>{e((t>>>=0)+8,1e6*(f+performance.now()))},"runtime.walltime":t=>{t>>>=0;const n=(new Date).getTime();e(t+8,n/1e3),this.mem.setInt32(t+16,n%1e3*1e6,!0)},"runtime.scheduleTimeoutEvent":e=>{e>>>=0;const t=this._nextCallbackTimeoutID;this._nextCallbackTimeoutID++,this._scheduledTimeouts.set(t,setTimeout((()=>{for(this._resume();this._scheduledTimeouts.has(t);)console.warn("scheduleTimeoutEvent: missed timeout event"),this._resume()}),s(e+8)+1)),this.mem.setInt32(e+16,t,!0)},"runtime.clearTimeoutEvent":e=>{e>>>=0;const t=this.mem.getInt32(e+8,!0);clearTimeout(this._scheduledTimeouts.get(t)),this._scheduledTimeouts.delete(t)},"runtime.getRandomData":e=>{e>>>=0,crypto.getRandomValues(a(e+8))},"syscall/js.finalizeRef":e=>{e>>>=0;const t=this.mem.getUint32(e+8,!0);if(this._goRefCounts[t]--,0===this._goRefCounts[t]){const e=this._values[t];this._values[t]=null,this._ids.delete(e),this._idPool.push(t)}},"syscall/js.stringVal":e=>{o((e>>>=0)+24,u(e+8))},"syscall/js.valueGet":e=>{e>>>=0;const t=Reflect.get(i(e+8),u(e+16));e=this._inst.exports.getsp()>>>0,o(e+32,t)},"syscall/js.valueSet":e=>{e>>>=0,Reflect.set(i(e+8),u(e+16),i(e+32))},"syscall/js.valueDelete":e=>{e>>>=0,Reflect.deleteProperty(i(e+8),u(e+16))},"syscall/js.valueIndex":e=>{o((e>>>=0)+24,Reflect.get(i(e+8),s(e+16)))},"syscall/js.valueSetIndex":e=>{e>>>=0,Reflect.set(i(e+8),s(e+16),i(e+24))},"syscall/js.valueCall":e=>{e>>>=0;try{const t=i(e+8),n=Reflect.get(t,u(e+16)),r=l(e+32),s=Reflect.apply(n,t,r);e=this._inst.exports.getsp()>>>0,o(e+56,s),this.mem.setUint8(e+64,1)}catch(t){e=this._inst.exports.getsp()>>>0,o(e+56,t),this.mem.setUint8(e+64,0)}},"syscall/js.valueInvoke":e=>{e>>>=0;try{const t=i(e+8),n=l(e+16),r=Reflect.apply(t,void 0,n);e=this._inst.exports.getsp()>>>0,o(e+40,r),this.mem.setUint8(e+48,1)}catch(t){e=this._inst.exports.getsp()>>>0,o(e+40,t),this.mem.setUint8(e+48,0)}},"syscall/js.valueNew":e=>{e>>>=0;try{const t=i(e+8),n=l(e+16),r=Reflect.construct(t,n);e=this._inst.exports.getsp()>>>0,o(e+40,r),this.mem.setUint8(e+48,1)}catch(t){e=this._inst.exports.getsp()>>>0,o(e+40,t),this.mem.setUint8(e+48,0)}},"syscall/js.valueLength":t=>{e((t>>>=0)+16,parseInt(i(t+8).length))},"syscall/js.valuePrepareString":n=>{n>>>=0;const r=t.encode(String(i(n+8)));o(n+16,r),e(n+24,r.length)},"syscall/js.valueLoadString":e=>{const t=i((e>>>=0)+8);a(e+16).set(t)},"syscall/js.valueInstanceOf":e=>{e>>>=0,this.mem.setUint8(e+24,i(e+8)instanceof i(e+16)?1:0)},"syscall/js.copyBytesToGo":t=>{const n=a((t>>>=0)+8),r=i(t+32);if(!(r instanceof Uint8Array||r instanceof Uint8ClampedArray))return void this.mem.setUint8(t+48,0);const s=r.subarray(0,n.length);n.set(s),e(t+40,s.length),this.mem.setUint8(t+48,1)},"syscall/js.copyBytesToJS":t=>{const n=i((t>>>=0)+8),r=a(t+16);if(!(n instanceof Uint8Array||n instanceof Uint8ClampedArray))return void this.mem.setUint8(t+48,0);const s=r.subarray(0,n.length);n.set(s),e(t+40,s.length),this.mem.setUint8(t+48,1)},debug:e=>{console.log(e)}}}}async run(e){if(!(e instanceof WebAssembly.Instance))throw new Error("Go.run: WebAssembly.Instance expected");this._inst=e,this.mem=new DataView(this._inst.exports.mem.buffer),this._values=[NaN,0,null,!0,!1,n,this],this._goRefCounts=new Array(this._values.length).fill(1/0),this._ids=new Map([[0,1],[null,2],[!0,3],[!1,4],[n,5],[this,6]]),this._idPool=[],this.exited=!1;let r=4096;const s=e=>{const n=r,s=t.encode(e+"\0");return new Uint8Array(this.mem.buffer,r,s.length).set(s),r+=s.length,r%8!=0&&(r+=8-r%8),n},i=this.argv.length,o=[];this.argv.forEach((e=>{o.push(s(e))})),o.push(0);Object.keys(this.env).sort().forEach((e=>{o.push(s(`${e}=${this.env[e]}`))})),o.push(0);const a=r;o.forEach((e=>{this.mem.setUint32(r,e,!0),this.mem.setUint32(r+4,0,!0),r+=8}));if(r>=12288)throw new Error("total length of command line and environment variables exceeds limit");this._inst.exports.run(i,a),this.exited&&this._resolveExitPromise(),await this._exitPromise}_resume(){if(this.exited)throw new Error("Go program has already exited");this._inst.exports.resume(),this.exited&&this._resolveExitPromise()}_makeFuncWrapper(e){const t=this;return function(){const n={id:e,this:this,args:arguments};return t._pendingEvent=n,t._resume(),n.result}}}})(),t=({data:r})=>{let s=new TextDecoder,i=n.fs,o="";i.writeSync=(t,n)=>{if(1===t)e(n);else{if(2!==t)throw new Error("Bad write");{o+=s.decode(n);let e=o.split("\n");e.length>1&&console.log(e.slice(0,-1).join("\n")),o=e[e.length-1]}}return n.length};let a,l=[],u=0;t=({data:e})=>{e.length>0&&(l.push(e),a&&a())},i.read=(e,t,n,r,s,o)=>{if(0!==e||0!==n||r!==t.length||null!==s)throw new Error("Bad read");if(0===l.length)return void(a=()=>i.read(e,t,n,r,s,o));let f=l[0],c=Math.max(0,Math.min(r,f.length-u));t.set(f.subarray(u,u+c),n),u+=c,u===f.length&&(l.shift(),u=0),o(null,c)};let f=new n.Go;f.argv=["","--service=0.17.10"],async function(e,t){if(e instanceof WebAssembly.Module)return WebAssembly.instantiate(e,t.importObject);const n=await fetch(e);if(!n.ok)throw new Error(`Failed to download ${JSON.stringify(e)}`);if("instantiateStreaming"in WebAssembly&&/^application\/wasm($|;)/i.test(n.headers.get("Content-Type")||"")){return(await WebAssembly.instantiateStreaming(n,t.importObject)).instance}const r=await n.arrayBuffer();return(await WebAssembly.instantiate(r,t.importObject)).instance}(r,f).then((t=>{e(null),f.run(t)}),(t=>{e(t)}))},e=>t(e)})((e=>r.onmessage({data:e})));r={onmessage:null,postMessage:t=>setTimeout((()=>e({data:t}))),terminate(){}}}const o=new Promise(((e,t)=>{s=e,i=t}));r.onmessage=({data:e})=>{r.onmessage=({data:e})=>a(e),e?i(e):s()},r.postMessage(t||new URL(e,location.href).toString());let{readFromStdout:a,service:l}=Ue({writeToStdin(e){r.postMessage(e)},isSync:!1,hasFS:!1,esbuild:Z});await o,Ve={build:e=>new Promise(((t,n)=>l.buildOrContext({callName:"build",refs:null,options:e,isTTY:!1,defaultWD:"/",callback:(e,r)=>e?n(e):t(r)}))),context:e=>new Promise(((t,n)=>l.buildOrContext({callName:"context",refs:null,options:e,isTTY:!1,defaultWD:"/",callback:(e,r)=>e?n(e):t(r)}))),transform:(e,t)=>new Promise(((n,r)=>l.transform({callName:"transform",refs:null,input:e,options:t||{},isTTY:!1,fs:{readFile(e,t){t(new Error("Internal error"),null)},writeFile(e,t){t(null)}},callback:(e,t)=>e?r(e):n(t)}))),formatMessages:(e,t)=>new Promise(((n,r)=>l.formatMessages({callName:"formatMessages",refs:null,messages:e,options:t,callback:(e,t)=>e?r(e):n(t)}))),analyzeMetafile:(e,t)=>new Promise(((n,r)=>l.analyzeMetafile({callName:"analyzeMetafile",refs:null,metafile:"string"==typeof e?e:JSON.stringify(e),options:t,callback:(e,t)=>e?r(e):n(t)})))}},rt=Z;export{He as analyzeMetafile,Ke as analyzeMetafileSync,ze as build,Xe as buildSync,qe as context,rt as default,Je as formatMessages,Ze as formatMessagesSync,tt as initialize,Ge as transform,Qe as transformSync,We as version};
